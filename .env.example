# ============================================
# Memex 环境变量配置模板
# ============================================
# 说明：
# 1. 复制此文件为 .env: `cp .env.example .env`
# 2. 填写所有必需的配置项
# 3. .env 文件已被 .gitignore 忽略，不会提交到仓库
# ============================================

# ============================================
# 数据库配置 (PostgreSQL)
# ============================================
# 数据库用户名
POSTGRES_USER=memex

# 数据库密码 (必须修改！)
POSTGRES_PASSWORD=your_secure_password_here

# 数据库主机地址 (Docker 内使用 'db'，本地开发使用 'localhost')
POSTGRES_HOST=db

# 数据库端口
POSTGRES_PORT=5432

# 数据库名称
POSTGRES_DB=memex_core

# ============================================
# AI 服务配置
# ============================================
# AI 提供商: GEMINI, DASHSCOPE, OPENAI
AI_PROVIDER=GEMINI

# Google Gemini API Key
# 获取地址: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# 阿里云 DashScope API Key (用于通义千问)
# 获取地址: https://dashscope.console.aliyun.com/apiKey
DASHSCOPE_API_KEY=your_dashscope_api_key_here

# OpenAI API Key (可选)
# OPENAI_API_KEY=your_openai_api_key_here

# ============================================
# 路由器模型配置 (可选，覆盖默认配置)
# ============================================
# 路由器使用的 AI 提供商
# ROUTER_PROVIDER=gemini

# 路由器模型 ID
# ROUTER_MODEL=gemini-2.5-flash

# 路由器 API Key (留空则使用上方的 GEMINI_API_KEY)
# ROUTER_API_KEY=

# ============================================
# 推理模型配置 (可选)
# ============================================
# REASONING_PROVIDER=gemini
# REASONING_MODEL=gemini-2.5-flash
# REASONING_API_KEY=

# ============================================
# 向量检索服务配置
# ============================================
# 向量服务类型: local (本地) 或 remote (远程)
VECTOR_SERVICE_TYPE=local

# 远程向量服务 URL (仅当 VECTOR_SERVICE_TYPE=remote 时需要)
# REMOTE_VECTOR_URL=https://your-vector-service.com

# 远程向量服务 API Key
# REMOTE_VECTOR_API_KEY=your_vector_api_key_here

# ============================================
# 语音服务配置 (可选)
# ============================================
# TTS 提供商: dashscope, gemini
# TTS_PROVIDER=dashscope

# TTS 模型 ID
# TTS_MODEL=sambert-zhichu-v1

# TTS API Key (留空则使用 DASHSCOPE_API_KEY 或 GEMINI_API_KEY)
# TTS_API_KEY=

# ============================================
# 身份认证配置
# ============================================
# JWT 密钥 (必须修改为随机字符串！)
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your_jwt_secret_key_change_this_in_production

# JWT 过期时间 (小时)
JWT_EXPIRATION_HOURS=168

# 默认管理员用户名
ADMIN_USERNAME=admin

# 默认管理员密码 (首次启动后请立即修改！)
ADMIN_PASSWORD=change_this_password_now

# ============================================
# 文件存储配置
# ============================================
# 数据存储根目录 (容器内路径)
DATA_DIR=/app/data

# 文件存储基础路径
FILE_STORAGE_BASE_PATH=/app/data

# 文件服务外部访问 URL (用于 DashScope 等服务访问本地文件)
# 示例: https://yourdomain.com 或 http://localhost:19527
FILE_SERVICE_BASE_URL=http://localhost:19527

# 家庭影音目录 (可选，预留扩展功能)
# FAMILY_MEDIA_PATH=/mnt/media

# ============================================
# 系统配置
# ============================================
# 时区设置
TZ=Asia/Shanghai

# Python 输出缓冲 (Docker 环境建议设为 1)
PYTHONUNBUFFERED=1

# 调试模式 (生产环境设为 False)
DEBUG=False

# 用户 ID (单用户模式，默认为 1)
USER_ID=1

# ============================================
# 高级配置 (可选)
# ============================================
# 最大并发任务数
# MAX_CONCURRENCY=5

# 日志级别: DEBUG, INFO, WARNING, ERROR
# LOG_LEVEL=INFO

# ============================================
# 注意事项
# ============================================
# - 所有包含 "KEY"、"PASSWORD"、"SECRET" 的变量都是敏感信息
# - 生产环境必须使用强密码和随机密钥
# - 定期轮换 API Key 和密码
# - 不要将 .env 文件提交到版本控制系统
# ============================================
